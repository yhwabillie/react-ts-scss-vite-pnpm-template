/* Button.module.scss */
// IconButton, IconLinkButton Í≥µÌÜµ Ïä§ÌÉÄÏùº
@use 'sass:map';
@use '../../../../styles/mixins' as *;

$btn-colors: (
  primary: (
    solid: (
      bg: var(--primary-bg-color-btn-solid),
      label: var(--primary-text-color-btn-solid),
      hover: (
        bg: var(--primary-hover-bg-color-btn-solid),
        label: var(--primary-hover-text-color-btn-solid),
      ),
      active: (
        bg: var(--primary-active-bg-color-btn-solid),
        label: var(--primary-active-text-color-btn-solid),
      ),
      disabled: (
        bg: var(--disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),

    outline: (
      bg: var(--bg-color-btn-outline),
      label: var(--primary-text-color-btn-outline),
      hover: (
        bg: var(--primary-hover-bg-color-btn-outline),
        label: var(--primary-hover-text-color-btn-outline),
      ),
      active: (
        bg: var(--primary-active-bg-color-btn-outline),
        label: var(--primary-active-text-color-btn-outline),
      ),
      disabled: (
        bg: var(--disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),

    ghost: (
      bg: var(--primary-bg-color-btn-ghost),
      label: var(--primary-text-color-btn-ghost),
      hover: (
        bg: var(--primary-hover-bg-color-btn-ghost),
        label: var(--primary-hover-text-color-btn-ghost),
      ),
      active: (
        bg: var(--primary-active-bg-color-btn-ghost),
        label: var(--primary-active-text-color-btn-ghost),
      ),
      disabled: (
        bg: var(--ghost-disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),
  ),

  secondary: (
    //
    solid: (
        bg: var(--secondary-bg-color-btn-solid),
        label: var(--secondary-text-color-btn-solid),
        hover: (
          bg: var(--secondary-hover-bg-color-btn-solid),
          label: var(--secondary-hover-text-color-btn-solid),
        ),
        active: (
          bg: var(--secondary-active-bg-color-btn-solid),
          label: var(--secondary-active-text-color-btn-solid),
        ),
        disabled: (
          bg: var(--disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),

    //
    outline: (
        bg: var(--bg-color-btn-outline),
        label: var(--secondary-text-color-btn-outline),
        hover: (
          bg: var(--secondary-hover-bg-color-btn-outline),
          label: var(--secondary-hover-text-color-btn-outline),
        ),
        active: (
          bg: var(--secondary-active-bg-color-btn-outline),
          label: var(--secondary-active-text-color-btn-outline),
        ),
        disabled: (
          bg: var(--disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),

    //
    ghost: (
        bg: var(--secondary-bg-color-btn-ghost),
        label: var(--secondary-text-color-btn-ghost),
        hover: (
          bg: var(--secondary-hover-bg-color-btn-ghost),
          label: var(--secondary-hover-text-color-btn-ghost),
        ),
        active: (
          bg: var(--secondary-active-bg-color-btn-ghost),
          label: var(--secondary-active-text-color-btn-ghost),
        ),
        disabled: (
          bg: var(--ghost-disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),
  ),

  tertiary: (
    //
    solid: (
        bg: var(--tertiary-bg-color-btn-solid),
        label: var(--tertiary-text-color-btn-solid),
        hover: (
          bg: var(--tertiary-hover-bg-color-btn-solid),
          label: var(--tertiary-hover-text-color-btn-solid),
        ),
        active: (
          bg: var(--tertiary-active-bg-color-btn-solid),
          label: var(--tertiary-active-text-color-btn-solid),
        ),
        disabled: (
          bg: var(--disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),

    //
    outline: (
        bg: var(--bg-color-btn-outline),
        label: var(--tertiary-text-color-btn-outline),
        hover: (
          bg: var(--tertiary-hover-bg-color-btn-outline),
          label: var(--tertiary-hover-text-color-btn-outline),
        ),
        active: (
          bg: var(--tertiary-active-bg-color-btn-outline),
          label: var(--tertiary-active-text-color-btn-outline),
        ),
        disabled: (
          bg: var(--disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),

    ghost: (
      bg: var(--tertiary-bg-color-btn-ghost),
      label: var(--tertiary-text-color-btn-ghost),
      hover: (
        bg: var(--tertiary-hover-bg-color-btn-ghost),
        label: var(--tertiary-hover-text-color-btn-ghost),
      ),
      active: (
        bg: var(--tertiary-active-bg-color-btn-ghost),
        label: var(--tertiary-active-text-color-btn-ghost),
      ),
      disabled: (
        bg: var(--ghost-disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),
  ),

  success: (
    //
    solid: (
        bg: var(--success-bg-color-btn-solid),
        label: var(--success-text-color-btn-solid),
        hover: (
          bg: var(--success-hover-bg-color-btn-solid),
          label: var(--success-hover-text-color-btn-solid),
        ),
        active: (
          bg: var(--success-active-bg-color-btn-solid),
          label: var(--success-active-text-color-btn-solid),
        ),
        disabled: (
          bg: var(--disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),

    //
    outline: (
        bg: var(--bg-color-btn-outline),
        label: var(--success-text-color-btn-outline),
        hover: (
          bg: var(--success-hover-bg-color-btn-outline),
          label: var(--success-hover-text-color-btn-outline),
        ),
        active: (
          bg: var(--success-active-bg-color-btn-outline),
          label: var(--success-active-text-color-btn-outline),
        ),
        disabled: (
          bg: var(--disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),

    //
    ghost: (
        bg: var(--success-bg-color-btn-ghost),
        label: var(--success-text-color-btn-ghost),
        hover: (
          bg: var(--success-hover-bg-color-btn-ghost),
          label: var(--success-hover-text-color-btn-ghost),
        ),
        active: (
          bg: var(--success-active-bg-color-btn-ghost),
          label: var(--success-active-text-color-btn-ghost),
        ),
        disabled: (
          bg: var(--ghost-disabled-bg-color-btn),
          label: var(--disabled-text-color-btn),
        ),
      ),
  ),

  warning: (
    solid: (
      bg: var(--warning-bg-color-btn-solid),
      label: var(--warning-text-color-btn-solid),
      hover: (
        bg: var(--warning-hover-bg-color-btn-solid),
        label: var(--warning-hover-text-color-btn-solid),
      ),
      active: (
        bg: var(--warning-active-bg-color-btn-solid),
        label: var(--warning-active-text-color-btn-solid),
      ),
      disabled: (
        bg: var(--disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),
    outline: (
      bg: var(--bg-color-btn-outline),
      label: var(--warning-text-color-btn-outline),
      hover: (
        bg: var(--warning-hover-bg-color-btn-outline),
        label: var(--warning-hover-text-color-btn-outline),
      ),
      active: (
        bg: var(--warning-active-bg-color-btn-outline),
        label: var(--warning-active-text-color-btn-outline),
      ),
      disabled: (
        bg: var(--disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),

    ghost: (
      bg: var(--warning-bg-color-btn-ghost),
      label: var(--warning-text-color-btn-ghost),
      hover: (
        bg: var(--warning-hover-bg-color-btn-ghost),
        label: var(--warning-hover-text-color-btn-ghost),
      ),
      active: (
        bg: var(--warning-active-bg-color-btn-ghost),
        label: var(--warning-active-text-color-btn-ghost),
      ),
      disabled: (
        bg: var(--ghost-disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),
  ),
  danger: (
    solid: (
      bg: var(--danger-bg-color-btn-solid),
      label: var(--danger-text-color-btn-solid),
      hover: (
        bg: var(--danger-hover-bg-color-btn-solid),
        label: var(--danger-hover-text-color-btn-solid),
      ),
      active: (
        bg: var(--danger-active-bg-color-btn-solid),
        label: var(--danger-active-text-color-btn-solid),
      ),
      disabled: (
        bg: var(--disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),
    outline: (
      bg: var(--bg-color-btn-outline),
      label: var(--danger-text-color-btn-outline),
      hover: (
        bg: var(--danger-hover-bg-color-btn-outline),
        label: var(--danger-hover-text-color-btn-outline),
      ),
      active: (
        bg: var(--danger-active-bg-color-btn-outline),
        label: var(--danger-active-text-color-btn-outline),
      ),
      disabled: (
        bg: var(--disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),

    ghost: (
      bg: var(--danger-bg-color-btn-ghost),
      label: var(--danger-text-color-btn-ghost),
      hover: (
        bg: var(--danger-hover-bg-color-btn-ghost),
        label: var(--danger-hover-text-color-btn-ghost),
      ),
      active: (
        bg: var(--danger-active-bg-color-btn-ghost),
        label: var(--danger-active-text-color-btn-ghost),
      ),
      disabled: (
        bg: var(--ghost-disabled-bg-color-btn),
        label: var(--disabled-text-color-btn),
      ),
    ),
  ),
);

// button size
$btn-sizes: (
  xs: (
    btn-size: (
      pc: rem(32px),
      tablet: rem(32px),
      mobile: rem(32px),
    ),
    radius: (
      pc: rem(4px),
      tablet: rem(6px),
      mobile: rem(6px),
    ),
    icon-size: (
      pc: rem(16px),
      tablet: rem(16px),
      mobile: rem(16px),
    ),
  ),

  sm: (
    btn-size: (
      pc: rem(36px),
      tablet: rem(36px),
      mobile: rem(36px),
    ),
    radius: (
      pc: rem(5px),
      tablet: rem(6px),
      mobile: rem(6px),
    ),
    icon-size: (
      pc: rem(18px),
      tablet: rem(16px),
      mobile: rem(18px),
    ),
  ),

  md: (
    btn-size: (
      pc: rem(40px),
      tablet: rem(40px),
      mobile: rem(40px),
    ),
    radius: (
      pc: rem(6px),
      tablet: rem(6px),
      mobile: rem(7px),
    ),
    icon-size: (
      pc: rem(20px),
      tablet: rem(18px),
      mobile: rem(20px),
    ),
  ),

  lg: (
    btn-size: (
      pc: rem(44px),
      tablet: rem(44px),
      mobile: rem(44px),
    ),
    radius: (
      pc: rem(7px),
      tablet: rem(7px),
      mobile: rem(8px),
    ),
    icon-size: (
      pc: rem(22px),
      tablet: rem(20px),
      mobile: rem(20px),
    ),
  ),

  xl: (
    btn-size: (
      pc: rem(48px),
      tablet: rem(48px),
      mobile: rem(48px),
    ),
    radius: (
      pc: rem(8px),
      tablet: rem(8px),
      mobile: rem(8px),
    ),
    icon-size: (
      pc: rem(24px),
      tablet: rem(22px),
      mobile: rem(22px),
    ),
  ),
);

// mixins - btn variant
@mixin btn-variant {
  @each $color-name, $color-props in $btn-colors {
    @each $variant, $variant-props in $color-props {
      &:global(.color--#{$color-name}.variant--#{$variant}) {
        // Í∏∞Î≥∏ ÏÉÅÌÉú
        background-color: map.get($variant-props, bg);
        color: map.get($variant-props, label);

        // outline border ÏûêÎèô Ï≤òÎ¶¨
        @if $variant == outline {
          border: rem(1px) solid map.get($variant-props, label);
        } @else {
          border: none;
        }

        // hover
        @at-root button#{&}:hover:not([aria-disabled='true']):not(:disabled) {
          $hover: map.get($variant-props, hover);
          background-color: map.get($hover, bg);
          color: map.get($hover, label);
        }
        @at-root a#{&}:hover:not([aria-disabled='true']):not(:disabled) {
          $hover: map.get($variant-props, hover);
          background-color: map.get($hover, bg);
          color: map.get($hover, label);
        }

        // active
        @at-root button#{&}:active:not([aria-disabled='true']):not(:disabled) {
          $active: map.get($variant-props, active);
          background-color: map.get($active, bg);
          color: map.get($active, label);
        }
        @at-root a#{&}:active:not([aria-disabled='true']):not(:disabled) {
          $active: map.get($variant-props, active);
          background-color: map.get($active, bg);
          color: map.get($active, label);
        }

        // disabled
        &[aria-disabled='true'],
        &:disabled {
          cursor: not-allowed;
          pointer-events: none;
          $disabled-props: map.get($variant-props, disabled);
          color: map.get($disabled-props, label);

          @if $disabled-props != null {
            @if $variant == 'outline' {
              border-color: map.get($disabled-props, label);
              background-color: map.get($disabled-props, bg);
            } @else {
              background-color: map.get($disabled-props, bg);
            }
          } @else {
          }
        }
      }
    }
  }
}

// mixins - btn size
@mixin btn-size {
  @each $size-name, $props in $btn-sizes {
    $btn-size: map.get($props, btn-size);
    $icon: map.get($props, icon-size);

    // üéØ PC Í∏∞Î≥∏ ÏÇ¨Ïù¥Ï¶à
    &:global(.size--#{$size-name}) {
      width: map.get($btn-size, pc);
      height: map.get($btn-size, pc);

      svg {
        width: map.get($icon, pc);
        height: map.get($icon, pc);
      }
    }

    // üéØ Tablet (max-width: 768px)
    @media (max-width: 768px) {
      &:global(.size--#{$size-name}) {
        width: map.get($btn-size, tablet);
        height: map.get($btn-size, tablet);

        svg {
          width: map.get($icon, tablet);
          height: map.get($icon, tablet);
        }
      }
    }

    // üéØ Mobile (max-width: 480px)
    @media (max-width: 480px) {
      &:global(.size--#{$size-name}) {
        width: map.get($btn-size, mobile);
        height: map.get($btn-size, mobile);

        svg {
          width: map.get($icon, mobile);
          height: map.get($icon, mobile);
        }
      }
    }
  }
}

// mixins - btn radius
@mixin btn-radius($btn-sizes) {
  &:global(.shape--rounded) {
    @each $size-name, $props in $btn-sizes {
      $radius: map.get($props, radius);

      &:global(.size--#{$size-name}) {
        // PC Í∏∞Î≥∏Í∞í
        border-radius: map.get($radius, pc);

        // Tablet Ïù¥Ìïò
        @media (max-width: 768px) {
          border-radius: map.get($radius, tablet);
        }

        // Mobile Ïù¥Ìïò
        @media (max-width: 480px) {
          border-radius: map.get($radius, mobile);
        }
      }
    }
  }
}

.btn {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  transition: all 0.2s ease;

  @at-root button#{&} {
    cursor: pointer;
  }

  .btn-label {
    min-width: max-content;
  }

  // size
  @include btn-size;

  // variant
  @include btn-variant;

  // shape
  &:global(.shape--square) {
    border-radius: 0;
  }
  &:global(.shape--rounded) {
    // radius
    @include btn-radius($btn-sizes);
  }
  &:global(.shape--pill) {
    border-radius: var(--project-border-radius-max);
  }
}
